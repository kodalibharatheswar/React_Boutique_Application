{"ast":null,"code":"import axiosInstance from '../utils/axios';\nconst authService = {\n  // Register new user\n  register: async registrationData => {\n    try {\n      const response = await axiosInstance.post('/auth/register', registrationData);\n      return response.data;\n    } catch (error) {\n      var _error$response;\n      throw ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || {\n        message: 'Registration failed'\n      };\n    }\n  },\n  // Confirm OTP for registration\n  confirmOTP: async (email, otp) => {\n    try {\n      const response = await axiosInstance.post('/auth/confirm-otp', {\n        email,\n        otp\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response2;\n      throw ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || {\n        message: 'OTP confirmation failed'\n      };\n    }\n  },\n  // Login\n  login: async (username, password) => {\n    try {\n      const response = await axiosInstance.post('/auth/login', {\n        username,\n        password\n      });\n      if (response.data.success && response.data.user) {\n        // Store user data in localStorage if needed\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response3;\n      throw ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || {\n        message: 'Login failed'\n      };\n    }\n  },\n  // Logout\n  logout: async () => {\n    try {\n      await axiosInstance.post('/auth/logout');\n      localStorage.removeItem('user');\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response4;\n      // Clear local storage even if API call fails\n      localStorage.removeItem('user');\n      throw ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || {\n        message: 'Logout failed'\n      };\n    }\n  },\n  // Forgot password - Step 1: Request OTP\n  forgotPassword: async identifier => {\n    try {\n      const response = await axiosInstance.post('/auth/forgot-password', {\n        identifier\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response5;\n      throw ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || {\n        message: 'Failed to send OTP'\n      };\n    }\n  },\n  // Forgot password - Step 2: Verify OTP\n  verifyResetOTP: async (email, otp) => {\n    try {\n      const response = await axiosInstance.post('/auth/reset-otp', {\n        email,\n        otp\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response6;\n      throw ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data) || {\n        message: 'OTP verification failed'\n      };\n    }\n  },\n  // Forgot password - Step 3: Reset password\n  resetPassword: async (email, newPassword, confirmPassword) => {\n    try {\n      const response = await axiosInstance.post('/auth/reset-password', {\n        email,\n        newPassword,\n        confirmPassword\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response7;\n      throw ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data) || {\n        message: 'Password reset failed'\n      };\n    }\n  },\n  // Check authentication status\n  checkAuth: async () => {\n    try {\n      const response = await axiosInstance.get('/auth/check');\n      return response.data;\n    } catch (error) {\n      return {\n        authenticated: false\n      };\n    }\n  },\n  // Resend OTP\n  resendOTP: async (email, type = 'REGISTRATION') => {\n    try {\n      const response = await axiosInstance.post('/auth/resend-otp', {\n        email,\n        type\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response8;\n      throw ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.data) || {\n        message: 'Failed to resend OTP'\n      };\n    }\n  },\n  // Get current user from localStorage\n  getCurrentUser: () => {\n    try {\n      const user = localStorage.getItem('user');\n      return user ? JSON.parse(user) : null;\n    } catch (error) {\n      return null;\n    }\n  },\n  // Check if user is authenticated (client-side check)\n  isAuthenticated: () => {\n    return !!localStorage.getItem('user');\n  }\n};\nexport default authService;","map":{"version":3,"names":["axiosInstance","authService","register","registrationData","response","post","data","error","_error$response","message","confirmOTP","email","otp","_error$response2","login","username","password","success","user","localStorage","setItem","JSON","stringify","_error$response3","logout","removeItem","_error$response4","forgotPassword","identifier","_error$response5","verifyResetOTP","_error$response6","resetPassword","newPassword","confirmPassword","_error$response7","checkAuth","get","authenticated","resendOTP","type","_error$response8","getCurrentUser","getItem","parse","isAuthenticated"],"sources":["C:/Users/Dell/Downloads/ABF/anvi-studio-frontend/src/services/authService.js"],"sourcesContent":["import axiosInstance from '../utils/axios';\r\n\r\nconst authService = {\r\n  // Register new user\r\n  register: async (registrationData) => {\r\n    try {\r\n      const response = await axiosInstance.post('/auth/register', registrationData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Registration failed' };\r\n    }\r\n  },\r\n\r\n  // Confirm OTP for registration\r\n  confirmOTP: async (email, otp) => {\r\n    try {\r\n      const response = await axiosInstance.post('/auth/confirm-otp', { email, otp });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'OTP confirmation failed' };\r\n    }\r\n  },\r\n\r\n  // Login\r\n  login: async (username, password) => {\r\n    try {\r\n      const response = await axiosInstance.post('/auth/login', { username, password });\r\n      \r\n      if (response.data.success && response.data.user) {\r\n        // Store user data in localStorage if needed\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Login failed' };\r\n    }\r\n  },\r\n\r\n  // Logout\r\n  logout: async () => {\r\n    try {\r\n      await axiosInstance.post('/auth/logout');\r\n      localStorage.removeItem('user');\r\n      return { success: true };\r\n    } catch (error) {\r\n      // Clear local storage even if API call fails\r\n      localStorage.removeItem('user');\r\n      throw error.response?.data || { message: 'Logout failed' };\r\n    }\r\n  },\r\n\r\n  // Forgot password - Step 1: Request OTP\r\n  forgotPassword: async (identifier) => {\r\n    try {\r\n      const response = await axiosInstance.post('/auth/forgot-password', { identifier });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Failed to send OTP' };\r\n    }\r\n  },\r\n\r\n  // Forgot password - Step 2: Verify OTP\r\n  verifyResetOTP: async (email, otp) => {\r\n    try {\r\n      const response = await axiosInstance.post('/auth/reset-otp', { email, otp });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'OTP verification failed' };\r\n    }\r\n  },\r\n\r\n  // Forgot password - Step 3: Reset password\r\n  resetPassword: async (email, newPassword, confirmPassword) => {\r\n    try {\r\n      const response = await axiosInstance.post('/auth/reset-password', {\r\n        email,\r\n        newPassword,\r\n        confirmPassword\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Password reset failed' };\r\n    }\r\n  },\r\n\r\n  // Check authentication status\r\n  checkAuth: async () => {\r\n    try {\r\n      const response = await axiosInstance.get('/auth/check');\r\n      return response.data;\r\n    } catch (error) {\r\n      return { authenticated: false };\r\n    }\r\n  },\r\n\r\n  // Resend OTP\r\n  resendOTP: async (email, type = 'REGISTRATION') => {\r\n    try {\r\n      const response = await axiosInstance.post('/auth/resend-otp', { email, type });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error.response?.data || { message: 'Failed to resend OTP' };\r\n    }\r\n  },\r\n\r\n  // Get current user from localStorage\r\n  getCurrentUser: () => {\r\n    try {\r\n      const user = localStorage.getItem('user');\r\n      return user ? JSON.parse(user) : null;\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  // Check if user is authenticated (client-side check)\r\n  isAuthenticated: () => {\r\n    return !!localStorage.getItem('user');\r\n  }\r\n};\r\n\r\nexport default authService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}